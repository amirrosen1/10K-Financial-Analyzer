$ 7,652 $ 11,730 Deferred 5,980 5,043 3,408 Total (1) 13,822 12,695 15,138 State: Current 259 990 1,265 Deferred 2 (138) (220) Total 261 852 1,045 Foreign: Current 1,671 2,105 4,744 Deferred (16) 33 (1,806) Total 1,655 2,138 2,938 Provision for income taxes $ 15,738 $ 15,685 $ 19,121 (1) Includes taxes of $7.9 billion, $6.7 billion and $7.3 billion provided on foreign pre-tax earnings in 2017, 2016 and 2015, respectively. The foreign provision for income taxes is based on foreign pre-tax earnings of $44.7 billion, $41.1 billion and $47.6 billion in 2017, 2016 and 2015, respectively. The Companyâ€™s consolidated