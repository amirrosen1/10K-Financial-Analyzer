antidilutive effect. The following table shows the calculation of diluted shares (in millions): Year Ended December 31, 2018 2019 2020 Shares used in computation of basic earnings per share 487 494 500 Total dilutive effect of outstanding stock awards 13 10 10 Shares used in computation of diluted earnings per share 500 504 510 Revenue Revenue is measured based on the amount of consideration that we expect to receive, reduced by estimates for return allowances, promotional discounts, and rebates. Revenue also excludes any amounts collected on behalf of third parties, including sales and indirect taxes. In arrangements where we have