shows the calculation of diluted shares (in millions): Year Ended December 31, 2019 2020 2021 Shares used in computation of basic earnings per share 494 500 506 Total dilutive effect of outstanding stock awards 10 10 9 Shares used in computation of diluted earnings per share 504 510 515 Revenue Revenue is measured based on the amount of consideration that we expect to receive, reduced by estimates for return allowances, promotional discounts, and rebates. Revenue also excludes any amounts collected on behalf of third parties, including sales and indirect taxes. In arrangements where we have multiple performance obligations, the transaction