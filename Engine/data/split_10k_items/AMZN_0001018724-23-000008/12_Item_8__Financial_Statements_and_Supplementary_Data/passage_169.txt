31, 2021 2022 2023 Income taxes computed at the federal statutory rate $ 8,012 $ (1,246) $ 7,887 Effect of: Tax impact of foreign earnings and losses (1,349) (370) 594 State taxes, net of federal benefits 465 (173) 1,307 Tax credits (1,136) (1,006) (2,362) Stock-based compensation (1) (1,094) 612 1,047 Foreign income deduction (2) (301) (1,258) (1,429) Other, net 194 224 76 Total $ 4,791 $ (3,217) $ 7,120 ___________________ (1) Includes non-deductible stock-based compensation and excess tax benefits or shortfalls from stock-based compensation. Our tax provision includes $1.9 billion of excess tax benefits from stock-based compensation for 2021, and